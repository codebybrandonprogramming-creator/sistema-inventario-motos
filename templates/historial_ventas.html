{% extends "base.html" %}
{% block title %}Historial de Ventas{% endblock %}

{% block content %}
<div class="contenido-principal">

    <h2 class="titulo-pagina">Historial de Ventas</h2>

    <div class="tabla-contenedor">
        <table class="tabla-historial">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>FECHA</th>
                    <th>HORA</th>
                    <th>PRODUCTO</th>
                    <th>CATEGOR√çA</th>
                    <th>CANTIDAD</th>
                    <th>PRECIO UNITARIO</th>
                    <th>IVA 19%</th>
                    <th>GANANCIA UNIT.</th>
                    <th>ACCIONES</th>
                </tr>
            </thead>

            <tbody>
                {% for venta in ventas %}
                <tr>
                    <td>{{ venta.id }}</td>
                    <td>{{ venta.fecha }}</td>
                    <td>{{ venta.hora }}</td>
                    <td>{{ venta.nombre }}</td>
                    <td>{{ venta.categoria }}</td>
                    <td>{{ venta.cantidad }}</td>
                    <td>{{ venta.precio_unitario }} COP</td>
                    <td>{{ venta.iva }} COP</td>
                    <td>{{ venta.ganancia_unitaria }} COP</td>

                    <td>
                        <a href="{{ url_for('eliminar_venta', id=venta.id) }}" 
                           class="btn-eliminar">üóëÔ∏è</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>

</div>

<style>

.contenido-principal {
    padding: 20px;
}

/* ----------------- TABLA ----------------- */

.tabla-contenedor {
    width: 100%;
    overflow-x: auto;
}

.tabla-historial {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    border-radius: 14px;
    overflow: hidden;
    font-size: 15px;
}

.tabla-historial thead {
    background: var(--color-primario);
    color: var(--texto-claro);
}

.tabla-historial thead th {
    padding: 14px 10px;
    text-align: center;
    font-weight: bold;
}

.tabla-historial tbody tr {
    background: var(--fondo-caja);
    color: var(--texto-normal);
    transition: 0.2s;
}

.tabla-historial tbody td {
    padding: 12px 10px;
    text-align: center;
    border-bottom: 1px solid var(--hover-suave);
}

.tabla-historial tbody tr:hover {
    background: var(--hover-suave);
}

/* ----------------- BOT√ìN ELIMINAR ----------------- */

.btn-eliminar {
    background: #e63946;
    color: white;
    padding: 6px 10px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 15px;
    transition: 0.2s;
}

.btn-eliminar:hover {
    background: #c62828;
}

/* ------------ VARIABLES PARA TEMA CLARO ------------ */

:root[data-theme="light"] {
    --fondo-caja: #ffffff;
    --texto-normal: #222;
    --hover-suave: #f1f1f1;
    --texto-claro: #ffffff;
}

/* ------------ VARIABLES PARA TEMA OSCURO ------------ */

:root[data-theme="dark"] {
    --fondo-caja: #1e1e1e;
    --texto-normal: #e9e9e9;
    --hover-suave: #2b2b2b;
    --texto-claro: #ffffff;
}

/* ------------ VARIABLES PARA TEMA PREMIUM ------------ */

:root[data-theme="premium"] {
    --fondo-caja: rgba(255,255,255,0.13);
    --texto-normal: #ffffff;
    --hover-suave: rgba(255,255,255,0.18);
    --texto-claro: #ffffff;
}

</style>

{% endblock %}
